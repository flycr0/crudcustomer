{"remainingRequest":"D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\babel-loader\\lib\\index.js!D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\src\\components\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\src\\components\\User.vue","mtime":1633620639165},{"path":"D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Other\\TestAO\\crudcustomer\\vue-springboot\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVzZXJEYXRhU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlL1VzZXJEYXRhU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIE5hbWFQZXJ0YW1hOiAiIiwKICAgICAgTmFtYUtlbHVhcmdhOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlkOiBmdW5jdGlvbiBpZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIFJlZnJlc2hVc2VyRGV0YWlsczogZnVuY3Rpb24gUmVmcmVzaFVzZXJEZXRhaWxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgVXNlckRhdGFTZXJ2aWNlLlJldHJpZXZlVXNlcih0aGlzLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5OYW1hUGVydGFtYSA9IHJlcy5kYXRhLk5hbWFQZXJ0YW1hOwogICAgICAgIF90aGlzLk5hbWFLZWx1YXJnYSA9IHJlcy5kYXRhLk5hbWFLZWx1YXJnYTsKICAgICAgICBfdGhpcy5lbWFpbCA9IHJlcy5kYXRhLmVtYWlsOwogICAgICB9KTsKICAgIH0sCiAgICB2YWxpZGF0ZUFuZFN1Ym1pdDogZnVuY3Rpb24gdmFsaWRhdGVBbmRTdWJtaXQoZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgIGlmICghdGhpcy5OYW1hUGVydGFtYSkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIk5hbWEgcGVydGFtYSB0aWRhayBib2xlaCBrb3NvbmciKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLk5hbWFLZWx1YXJnYSkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIk5hbWEga2VsdWFyZ2EgdGlkYWsgYm9sZWgga29zb25nIik7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5lbWFpbCkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIlBlcmlrc2EgZS1tYWlsIik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPT09IDApIHsKICAgICAgICBpZiAodGhpcy5pZCA9PSAtMSkgewogICAgICAgICAgVXNlckRhdGFTZXJ2aWNlLkNyZWF0ZVVzZXIoewogICAgICAgICAgICBOYW1hUGVydGFtYTogdGhpcy5OYW1hUGVydGFtYSwKICAgICAgICAgICAgTmFtYUtlbHVhcmdhOiB0aGlzLk5hbWFLZWx1YXJnYSwKICAgICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvdXNlcnMiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBVc2VyRGF0YVNlcnZpY2UuVXBkYXRlVXNlcih0aGlzLmlkLCB7CiAgICAgICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgICAgICBOYW1hUGVydGFtYTogdGhpcy5OYW1hUGVydGFtYSwKICAgICAgICAgICAgTmFtYUtlbHVhcmdhOiB0aGlzLk5hbWFLZWx1YXJnYSwKICAgICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvdXNlcnMiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuUmVmcmVzaFVzZXJEZXRhaWxzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,eAAA,MAAA,4BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,EADA,gBACA;AACA,aAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,gCACA;AAAA;;AACA,MAAA,eAAA,CAAA,YAAA,CAAA,KAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,IAAA,CAAA,WAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,iBARA,6BAQA,CARA,EAQA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,MAAA,GAAA,EAAA;;AACA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,iCAAA;AACA;;AACA,UAAA,CAAA,KAAA,YAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,kCAAA;AACA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,gBAAA;AACA;;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,YAAA,KAAA,EAAA,IAAA,CAAA,CAAA,EAAA;AACA,UAAA,eAAA,CAAA,UAAA,CAAA;AACA,YAAA,WAAA,EAAA,KAAA,WADA;AAEA,YAAA,YAAA,EAAA,KAAA,YAFA;AAGA,YAAA,KAAA,EAAA,KAAA;AAHA,WAAA,EAIA,IAJA,CAIA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WANA;AAOA,SARA,MAQA;AACA,UAAA,eAAA,CAAA,UAAA,CAAA,KAAA,EAAA,EAAA;AACA,YAAA,EAAA,EAAA,KAAA,EADA;AAEA,YAAA,WAAA,EAAA,KAAA,WAFA;AAGA,YAAA,YAAA,EAAA,KAAA,YAHA;AAIA,YAAA,KAAA,EAAA,KAAA;AAJA,WAAA,EAKA,IALA,CAKA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAPA;AAQA;AACA;AACA;AAxCA,GAfA;AAyDA,EAAA,OAzDA,qBAyDA;AACA,SAAA,kBAAA;AACA;AA3DA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <h3>User Data</h3>\r\n    <div class=\"container\">\r\n      <form @submit=\"validateAndSubmit\">\r\n        <div v-if=\"errors.length\">\r\n          <div\r\n            class=\"alert alert-danger\"\r\n            v-bind:key=\"index\"\r\n            v-for=\"(error, index) in errors\"\r\n          >\r\n            {{ error }}\r\n          </div>\r\n        </div>\r\n        <fieldset class=\"form-group\">\r\n          <label>Nama Pertama</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"NamaPertama\" />\r\n        </fieldset>\r\n        <fieldset class=\"form-group\">\r\n          <label>Nama Keluarga</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"NamaKeluarga\" />\r\n        </fieldset>\r\n        <fieldset class=\"form-group\">\r\n          <label>E-mail</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"email\" />\r\n        </fieldset>\r\n        <button class=\"btn btn-success\" type=\"submit\">Simpan Data</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserDataService from \"../service/UserDataService\";\r\n\r\nexport default {\r\n  name: \"User\",\r\n  data() {\r\n    return {\r\n      NamaPertama: \"\",\r\n      NamaKeluarga: \"\",\r\n      email: \"\",\r\n      errors: [],\r\n    };\r\n  },\r\n  computed: {\r\n    id() {\r\n      return this.$route.params.id;\r\n    },\r\n  },\r\n  methods: {\r\n    RefreshUserDetails() {\r\n      UserDataService.RetrieveUser(this.id).then((res) => {\r\n        this.NamaPertama = res.data.NamaPertama;\r\n        this.NamaKeluarga = res.data.NamaKeluarga;\r\n        this.email = res.data.email;\r\n      });\r\n    },\r\n    validateAndSubmit(e) {\r\n      e.preventDefault();\r\n      this.errors = [];\r\n      if (!this.NamaPertama) {\r\n        this.errors.push(\"Nama pertama tidak boleh kosong\");\r\n      } \r\n      if (!this.NamaKeluarga) {\r\n        this.errors.push(\"Nama keluarga tidak boleh kosong\");\r\n      } \r\n      if (!this.email) {\r\n        this.errors.push(\"Periksa e-mail\");\r\n      } \r\n      if (this.errors.length === 0) {\r\n        if (this.id == -1) {\r\n          UserDataService.CreateUser({\r\n            NamaPertama: this.NamaPertama,\r\n            NamaKeluarga: this.NamaKeluarga,\r\n            email: this.email,\r\n          }).then(() => {\r\n            this.$router.push(\"/users\");\r\n          });\r\n        } else {\r\n          UserDataService.UpdateUser(this.id, {\r\n            id: this.id,\r\n             NamaPertama: this.NamaPertama,\r\n            NamaKeluarga: this.NamaKeluarga,\r\n            email: this.email,\r\n          }).then(() => {\r\n            this.$router.push(\"/users\");\r\n          });\r\n        }\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.RefreshUserDetails();\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}